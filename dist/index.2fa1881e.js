function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}const e=[{constructorsId:"alfa",base:"Hinwil-Switzerland",teamChief:"Frédéric Vasseur",chassis:"C41",powerUnit:"Ferrari"},{constructorsId:"alphatauri",base:"Faenza, Italy",teamChief:"Franz Tost",chassis:"AT02",powerUnit:"Honda"},{constructorsId:"alpine",base:"Enstone-United Kingdom",teamChief:"Davide Brivio",chassis:"A521",powerUnit:"Renault"},{constructorsId:"aston_martin",base:"Silverstone-United Kingdom",teamChief:"Otmar Szafnauer",chassis:"AMR21",powerUnit:"Mercedes"},{constructorsId:"ferrari",base:"Maranello-Italy",teamChief:"Mattia Binotto",chassis:"SF21",powerUnit:"Ferrari"},{constructorsId:"haas",base:"Kannapolis-United States",teamChief:"Guenther Steiner",chassis:"VF-21",powerUnit:"Ferrari"},{constructorsId:"mclaren",base:"Woking-United Kingdom",teamChief:"Andreas Seidlr",chassis:"MCL35M",powerUnit:"Mercedes"},{constructorsId:"mercedes",base:"Brackley-United Kingdom",teamChief:"Toto Wolff",chassis:"W12",powerUnit:"Mercedes"},{constructorsId:"red_bull",base:"Milton Keynes- United Kingdom",teamChief:"Christian Horner",powerUnit:"Honda",chassis:"RB16B"},{constructorsId:"williams",base:"Grove-United Kingdom",teamChief:"Jost Capito",chassis:"FW43B",powerUnit:"Mercedes"}];var n={};t(n,"state",(()=>a)),t(n,"getDrivers",(()=>s)),t(n,"getStandingsData",(()=>i)),t(n,"getConstructors",(()=>c)),t(n,"getConstructorsData",(()=>o)),t(n,"getCircuits",(()=>l)),t(n,"getCircuitPage",(()=>d));var r=new class{allSlides=[];allElements=[];parentElement=document.querySelector(".placeholder");curSlide=0;elements;addHandlerConstructors(t){document.getElementById("#section--2--btn").addEventListener("click",(function(){console.log("Hello section 2"),document.querySelector(".section__section--2").style.display="block",document.querySelector(".section__section--2").scrollIntoView(),t()}))}render(t){const e=`<div class= "slide__constructors" border-color: '--color-${t.id}>\n        <div class= "constructor__name">${t.name}</div>\n             <img\n             src= "/images/teams-logo/${t.id}-logo.png"\n             class= "constructor__team--logo"\n             />\n             <div class= "constructor__details">\n               <table class= "constructor__detail">\n                 <tr></tr>\n                 <tr>\n                   <th class= "constructor__details--cap">Team nationality</th>\n                   <th class= 'constructor__details--input' id="input--nationality">${t.nationality}</th>\n                 </tr>\n                 <tr>\n                   <th class= "constructor__details--cap">Base</th>\n                   <th class= 'constructor__details--input'id="input--base">${t.base}</th>\n                 </tr>\n                 <tr>\n                   <th class= "constructor__details--cap">Team Chief</th>\n                   <th class= 'constructor__details--input'id="input--chief">${t.teamChief}</th>\n                 </tr>\n                 <tr>\n                   <th class= "constructor__details--cap">Chassis</th>\n                   <th class= 'constructor__details--input'id="input--chassis">${t.chassis}</th>\n                 </tr>\n       <tr>\n                   <th class= "constructor__details--cap">Power-unit</th>\n                   <th class= 'constructor__details--input'id="input--powerunit">${t.powerUnit}</th>\n                 </tr>\n               </table>\n             </div>\n             <img\n             src= "/images/team-car/${t.id}.png"\n             class="constructor__car"\n             alt= "F1 car"\n           />\n           </div>\n           </div>\n <style>\n .slide__constructors{\n   border-color: var(--color-${t.id})\n }\n .constructor__name{\n   color: var(--color-${t.id})\n }\n .constructor__details--input{\n  color: var(--color-${t.id})\n}\n\n.slider__btn{\n  color: var(--color-${t.id})\n}\n </style>`;return this.allSlides.push(e),this.allElements.push(this._createSlideElement(e)),this.parentElement.append(this.allElements[this.curSlide]),this.allElements}_createSlideElement(t){const e=document.createElement("div");return e.innerHTML=t,e}};const a={driversData:{drivers:[],standings:[]},constructorData:{},constructorsSlides:[],circuitData:{data:[],resultsPerPage:6}},s=async function(){const t=await fetch("http://ergast.com/api/f1/2021/drivers.json"),e=await fetch("http://ergast.com/api/f1/current/driverStandings.json");Promise.all([t,e]).then((t=>Promise.all(t.map((t=>t.json()))))).then((t=>{a.driversData.standings=t[1].MRData.StandingsTable.StandingsLists[0].DriverStandings,a.driversData.drivers=t[0].MRData.DriverTable.Drivers}))};s();const i=async function(t){console.log(t);return await t.standings.map((t=>{const{name:e}=t.Constructors[0],{points:n,position:r,wins:a}=t,{driverId:s,permanentNumber:i,nationality:c,givenName:o,familyName:l}=t.Driver;return{points:n,position:r,wins:a,id:s,number:i,nation:c,family:l,name:o,team:e}}))},c=async function(){const t=await fetch("http://ergast.com/api/f1/2021/constructors.json"),e=await t.json();a.constructorData=e.MRData.ConstructorTable.Constructors},o=async function(t){try{console.log(t);return await t.map((t=>{const{constructorId:n,name:r,nationality:a}=t,s=e.find((t=>t.constructorsId===n)),{base:i,teamChief:c,chassis:o,powerUnit:l}=s;return{id:n,name:r,nationality:a,base:i,teamChief:c,chassis:o,powerUnit:l}}))}catch(t){console.error(t.message)}},l=async function(){const t=await fetch("http://ergast.com/api/f1/2021/circuits.json"),e=(await t.json()).MRData.CircuitTable.Circuits;return console.log(e),a.circuitData.page=1,e},d=function(t=a.circuitData.page){const e=Math.ceil(a.circuitData.data.length/a.circuitData.resultsPerPage);a.circuitData.numberOfPages=e,a.circuitData.page=t;const n=(t-1)*a.circuitData.resultsPerPage,r=t*a.circuitData.resultsPerPage;return a.circuitData.data.slice(n,r)};var u=new class{_parentElement=document.querySelector(".table__body");_driverParentElement=document.querySelector(".driver__leader");addHandlerStandings(t){document.getElementById("#section--1--btn").addEventListener("click",(function(){console.log("Hello"),t(),document.querySelector(".section__section--1").style.display="block",document.querySelector(".section__section--1").scrollIntoView()}))}clear(){this._parentElement.remove(),this._parentElement=document.createElement("tbody"),document.querySelector(".tbl__drivers").appendChild(this._parentElement)}renderDriverPicture(t){1===t.position&&(this._driverParentElement.src=`/images/drivers/${t.id}.png`)}render(t){this.renderDriverPicture(t),console.log(t);const e=document.createElement("tr");[t.number,`${t.name} ${t.family}`,t.nation,t.team,t.points,t.wins].map((t=>{const n=document.createElement("td");n.append(t),e.appendChild(n)})),this._parentElement.appendChild(e)}};var m=function(t,e,n){const r=`\n    \n    <div class="progress-bar-background">\n      <div\n        class="progress-bar"\n        />\n        </div>\n        </div>\n    <style>\n    .progress{\n    }\n    .progress-bar-background{\n    }\n        .progress-bar{\n          width: ${80/(t/e)*n+"%"};\n          z-index: 1;\n        }`,a=document.createElement("div");a.classList.add("progress"),a.innerHTML=r,document.querySelector(".content-circuits").append(a)};var p=new class{_topLevelElement=document.querySelector(".section__3--results");_parentElement=document.querySelector(".results--round");addHandlerCircuits(t){document.getElementById("#section--3--btn").addEventListener("click",(function(){t(),document.querySelector(".section__section--3").style.display="block",document.querySelector(".section__section--3").scrollIntoView()}))}_clear(){this._parentElement.remove(),this._parentElement=document.createElement("tr"),this._parentElement.classList.add("results--round"),this._topLevelElement.append(this._parentElement)}renderProgressBar(t){m(t.circuitData.data.length,t.circuitData.resultsPerPage,t.circuitData.page)}renderNextCircuits(t){let e=t.state.circuitData.numberOfPages;this._clear(),t.state.circuitData.page===e?t.state.circuitData.page=e:(document.querySelector(".paginate.left").setAttribute("data-state",""),t.state.circuitData.page++,document.querySelector(".paginate.right").setAttribute("data-state",t.state.circuitData.page===e?"disabled":"")),document.querySelector(".paginate.left").setAttribute("data-state",""),this.render(t.getCircuitPage(t.state.circuitData.page)),document.querySelector(".progress-bar").style.width=90/(t.state.circuitData.data.length/t.state.circuitData.resultsPerPage)*t.state.circuitData.page+"%"}renderPreviousCircuits(t){this._clear(),1===t.state.circuitData.page?t.state.circuitData.page=t.state.circuitData.page:(document.querySelector(".paginate.right").setAttribute("data-state",""),t.state.circuitData.page--,document.querySelector(".paginate.left").setAttribute("data-state",1===t.state.circuitData.page?"disabled":"")),this.render(t.getCircuitPage(t.state.circuitData.page)),document.querySelector(".progress-bar").style.width=90/(t.state.circuitData.data.length/t.state.circuitData.resultsPerPage)*t.state.circuitData.page+"%"}renderFirstArrow(t){document.querySelector(".paginate.left").setAttribute("data-state",1===t.state.circuitData.page?"disabled":"")}render(t){console.log(t),t.forEach((t=>{const e=`\n          <button  class = "btn__circuit" id = "btn_circuit--${t.circuitId}">\n          <div class= "circuit__logo__div">\n          <img\n           src= "/images/country-logo/${t.circuitId}.png"\n            class= "circuit__country--logo"\n          /> \n            </div>\n            <div class = "circuit__name">\n              <div></div>\n              <div>${t.circuitName}</div>\n            </div>\n          </div>\n          </button>\n          `,n=document.createElement("td");n.classList.add("results--round--cell"),n.innerHTML=e,this._parentElement.appendChild(n)}))}};new class{_parentElement=document.querySelector(".section--3--results");render(t){console.log(t);window.open("","_self").document.writeln(`\n      <html>\n      <head>\n        <meta charset="UTF-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <meta http-equiv="X-UA-Compatible" content="ie=edge" />\n        <link rel="stylesheet" href="index.css" />\n        <title>${t.circuitName}</title>\n      </head>\n      <body>\n      <section class = "section--3--data">\n\n      <div class="bg-image--1"></div>\n      <div class = "circuit-information">\n        <div class = "section__3--title--window"> ${t.circuitName} GRAND PRIX</div>\n        <div class = "section__3--container">\n\n       <img\n          src = "circuits/${t.circuitId}.png"\n          class = "circuit-track"\n          height = 400px\n          alt = "Circuit - ${t.circuitName}"\n        />\n        <table class = "section--3--window-table">\n        </table>\n        </div>\n        </div>\n        <button onClick = "goBack()">Go Back</button>\n      </section>\n        <section class = "section--3--results">\n\n        </section>\n\n      </body>\n      </html>`)}};const g=document.querySelector(".slider__btn--right"),h=document.querySelector(".slider__btn--left"),_=document.querySelector(".paginate.left "),v=document.querySelector(".paginate.right");let b,y=0;const f=async function(t=n.state.driversData){const e=await n.getStandingsData(t);u.clear(),e.sort(((t,e)=>e[0]-t[0])),e.forEach((t=>u.render(t)))},D=async function(t=n.state.constructorData){const e=await n.getConstructorsData(t);console.log(e),e.forEach((t=>r.render(t))),n.state.constructorsSlides=r.allElements},w=function(){b=n.state.constructorsSlides.length-1,r.parentElement.removeChild(n.state.constructorsSlides[y]),y===b?y=0:y++,r.parentElement.append(n.state.constructorsSlides[y])},S=function(){b=n.state.constructorsSlides.length-1,r.parentElement.removeChild(n.state.constructorsSlides[y]),0===y?y=b:y--,r.parentElement.append(n.state.constructorsSlides[y])},C=async function(){n.state.circuitData.data=await n.getCircuits(),p.render(n.getCircuitPage()),console.log(n.state),p.renderProgressBar(n.state),p.renderFirstArrow(n),E()},E=function(){v.addEventListener("click",(function(){p.renderNextCircuits(n)})),_.addEventListener("click",(function(){p.renderPreviousCircuits(n)}))};window.onload=n.getConstructors(),u.addHandlerStandings(f),r.addHandlerConstructors(D),g.addEventListener("click",w),h.addEventListener("click",S),p.addHandlerCircuits(C);
//# sourceMappingURL=index.2fa1881e.js.map
